{"ast":null,"code":"import { APIConstants } from 'src/network/constants/APIConstants';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/network/dataServices/GetChefByIdDataService\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\n\nfunction ChefeditprofileComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtext(1, \"*input is invalid\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ChefeditprofileComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtext(1, \"*input is invalid\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ChefeditprofileComponent_div_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtext(1, \"*input is invalid\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ChefeditprofileComponent_div_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtext(1, \"*input is invalid\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ChefeditprofileComponent_div_58_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtext(1, \"*input is invalid\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let ChefeditprofileComponent = /*#__PURE__*/(() => {\n  class ChefeditprofileComponent {\n    constructor(http, router, _FetchChefProfileDataService) {\n      this.http = http;\n      this.router = router;\n      this._FetchChefProfileDataService = _FetchChefProfileDataService;\n      this.editStatus = true;\n      this.emailError = false;\n      this.firstName = '';\n      this.lastName = '';\n      this.address = '';\n      this.cookExp = '';\n      this.membSince = new Date();\n      this.phone = '';\n      this.emailid = '';\n      this.profileUrl = APIConstants.baseURL() + '/updatechef';\n      this.selected = 'cash';\n      this.progress = 0;\n      this.message = '';\n      this.images = [];\n      this.imageFormData = new FormData();\n      this.fError = false;\n      this.lError = false;\n      this.aError = false;\n      this.cError = false;\n      this.pError = false;\n      this.eError = false;\n      this.options = [{\n        name: 'cash',\n        value: 'cash'\n      }, {\n        name: 'creditcard',\n        value: 'creditcard'\n      }];\n    }\n\n    ngOnInit() {\n      this.fetchChef();\n    }\n\n    onSubmit() {\n      const regex = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n\n      if (this.firstName == '') {\n        this.fError = true;\n      } else {\n        this.fError = false;\n      }\n\n      if (this.lastName == '') {\n        this.lError = true;\n      } else {\n        this.lError = false;\n      }\n\n      if (this.address == '') {\n        this.aError = true;\n      } else {\n        this.aError = false;\n      }\n\n      if (this.phone == '') {\n        this.pError = true;\n      } else {\n        this.pError = false;\n      }\n\n      if (this.cookExp == '') {\n        this.cError = true;\n      } else {\n        this.cError = false;\n      } // if(!new RegExp(regex).test(this.emailid)){\n      //   this.emailError = true;\n      // }else {this.emailError=false}\n\n\n      if (this.emailError == false && this.fError == false && this.cError == false && this.lError == false && this.aError == false && this.pError == false) {\n        this.emailError = false;\n        this.aError = false;\n        this.pError = false;\n        this.fError = false;\n        this.lError = false;\n        this.cError = false;\n        let data = {\n          emailid: this.emailid,\n          firstname: this.firstName,\n          lastname: this.lastName,\n          payment: this.selected,\n          address: this.address,\n          cook_exp: this.cookExp,\n          memb_since: this.membSince,\n          phone: this.phone,\n          image: this.uploadedImage\n        }; // this.router.navigate(['chefviewprofile'], {\n        //   state: data});\n\n        this.http.put(this.profileUrl, {\n          login_id: Number(localStorage.getItem(\"loginId\")),\n          chef_fname: this.firstName,\n          chef_lname: this.lastName,\n          chef_street: this.address,\n          chef_experience: this.cookExp,\n          chef_phone: this.phone\n        }).subscribe(data => {\n          if (data) {\n            alert(\"Profile Updated successfully\"); // console.log(data);\n            // this.router.navigate(['chefviewprofile'], {\n            //   state: data});\n\n            this.editStatus = false;\n          } else {\n            this.firstName = '';\n            this.lastName = '';\n            this.address = '';\n            this.cookExp = '';\n            this.membSince = new Date();\n            this.phone = '';\n            this.emailid = '';\n            this.phone = '';\n          }\n        });\n      }\n    }\n\n    reset() {\n      this.firstName = '';\n      this.lastName = '';\n      this.address = '';\n      this.cookExp = '';\n      this.membSince = new Date();\n      this.phone = '';\n      this.emailid = '';\n      this.phone = '';\n    }\n\n    onFileChange(event) {\n      this.uploadedImage = event.target.files[0];\n\n      if (event.target.files && event.target.files[0]) {\n        var filesAmount = event.target.files.length;\n\n        for (let i = 0; i < filesAmount; i++) {\n          var reader = new FileReader();\n\n          reader.onload = event => {\n            // console.log(event.target.result);\n            this.images.push(event.target.result);\n          };\n\n          reader.readAsDataURL(event.target.files[i]);\n        }\n      }\n    }\n\n    fetchChef() {\n      this._FetchChefProfileDataService.prepareRequestWithParameters(Number(localStorage.getItem(\"loginId\")));\n\n      this._FetchChefProfileDataService.queryTheServer().subscribe({\n        next: res => {\n          const data = res;\n          this.firstName = data.chef_fname;\n          this.lastName = data.chef_lname;\n          this.address = data.chef_street;\n          this.phone = data.chef_phone;\n          this.cookExp = data.chef_experience;\n        },\n        error: err => console.log(err)\n      });\n    }\n\n  }\n\n  ChefeditprofileComponent.ɵfac = function ChefeditprofileComponent_Factory(t) {\n    return new (t || ChefeditprofileComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.GetChefByIdDataService));\n  };\n\n  ChefeditprofileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ChefeditprofileComponent,\n    selectors: [[\"app-chefeditprofile\"]],\n    decls: 65,\n    vars: 10,\n    consts: [[\"charset\", \"utf-8\"], [\"http-equiv\", \"X-UA-Compatible\", \"content\", \"IE=edge\"], [\"name\", \"viewport\", \"content\", \"width=device-width, initial-scale=1.0\"], [2, \"text-align\", \"center\"], [\"id\", \"login\", 1, \"form\", 2, \"margin-top\", \"10px\"], [1, \"box1\"], [\"for\", \"Name\"], [\"type\", \"text\", \"placeholder\", \"First Name\", \"required\", \"\", \"name\", \"firstname\", 2, \"width\", \"120px\", 3, \"ngModel\", \"ngModelChange\"], [\"style\", \"color: red;\", 4, \"ngIf\"], [\"type\", \"text\", \"placeholder\", \"Last Name\", \"required\", \"\", \"name\", \"lastname\", 2, \"width\", \"120px\", 3, \"ngModel\", \"ngModelChange\"], [2, \"width\", \"auto\", \"margin-left\", \"140px\"], [\"for\", \"Address\"], [\"type\", \"text\", \"id\", \"Address\", \"name\", \"Address\", \"placeholder\", \"Enter your address\", \"required\", \"\", \"name\", \"address\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"year\"], [\"type\", \"text\", \"id\", \"year\", \"name\", \"year\", \"size\", \"4\", \"placeholder\", \"No. Y\", \"required\", \"\", \"name\", \"cookExp\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"Phone#\", 2, \"width\", \"auto\", \"margin-right\", \"0px\"], [\"type\", \"tel\", \"id\", \"phone\", \"name\", \"phone\", \"placeholder\", \"123-456-7890\", \"pattern\", \"[0-9]{3}-[0-9]{3}-[0-9]{4}\", \"required\", \"\", \"name\", \"phone\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", \"value\", \"Save profile\", 2, \"color\", \"black\", \"float\", \"right\", \"width\", \"auto\", \"height\", \"auto\", \"font-size\", \"25px\", \"border-radius\", \"12%\", \"margin-top\", \"50px\", \"margin-right\", \"340px\", 3, \"click\"], [2, \"color\", \"red\"]],\n    template: function ChefeditprofileComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"html\")(1, \"head\");\n        i0.ɵɵelement(2, \"meta\", 0)(3, \"meta\", 1)(4, \"meta\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"body\");\n        i0.ɵɵelement(6, \"br\");\n        i0.ɵɵelementStart(7, \"h1\", 3);\n        i0.ɵɵtext(8, \"Account Details\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(9, \"br\");\n        i0.ɵɵelementStart(10, \"form\", 4);\n        i0.ɵɵelement(11, \"br\");\n        i0.ɵɵelementStart(12, \"div\", 5)(13, \"ul\")(14, \"li\")(15, \"label\", 6)(16, \"b\");\n        i0.ɵɵtext(17, \"First Name:\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtext(18, \"\\u00A0 \");\n        i0.ɵɵelementStart(19, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function ChefeditprofileComponent_Template_input_ngModelChange_19_listener($event) {\n          return ctx.firstName = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(20, \"br\");\n        i0.ɵɵtemplate(21, ChefeditprofileComponent_div_21_Template, 2, 0, \"div\", 8);\n        i0.ɵɵelement(22, \"br\")(23, \"br\");\n        i0.ɵɵelementStart(24, \"label\", 6)(25, \"b\");\n        i0.ɵɵtext(26, \"Last Name:\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtext(27, \"\\u00A0 \");\n        i0.ɵɵelementStart(28, \"input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function ChefeditprofileComponent_Template_input_ngModelChange_28_listener($event) {\n          return ctx.lastName = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(29, \"br\");\n        i0.ɵɵtemplate(30, ChefeditprofileComponent_div_30_Template, 2, 0, \"div\", 8);\n        i0.ɵɵelement(31, \"br\")(32, \"br\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"li\", 10)(34, \"label\", 11)(35, \"b\");\n        i0.ɵɵtext(36, \"Address:\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtext(37, \"\\u00A0 \");\n        i0.ɵɵelementStart(38, \"input\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function ChefeditprofileComponent_Template_input_ngModelChange_38_listener($event) {\n          return ctx.address = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(39, \"br\");\n        i0.ɵɵtemplate(40, ChefeditprofileComponent_div_40_Template, 2, 0, \"div\", 8);\n        i0.ɵɵelement(41, \"br\")(42, \"br\");\n        i0.ɵɵelementStart(43, \"label\", 13)(44, \"b\");\n        i0.ɵɵtext(45, \"Cooking experience (years): \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtext(46, \"\\u00A0 \");\n        i0.ɵɵelementStart(47, \"input\", 14);\n        i0.ɵɵlistener(\"ngModelChange\", function ChefeditprofileComponent_Template_input_ngModelChange_47_listener($event) {\n          return ctx.cookExp = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(48, \"br\");\n        i0.ɵɵtemplate(49, ChefeditprofileComponent_div_49_Template, 2, 0, \"div\", 8);\n        i0.ɵɵelement(50, \"br\")(51, \"br\");\n        i0.ɵɵelementStart(52, \"label\", 15)(53, \"b\");\n        i0.ɵɵtext(54, \"Phone Number: \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtext(55, \"\\u00A0 \");\n        i0.ɵɵelementStart(56, \"input\", 16);\n        i0.ɵɵlistener(\"ngModelChange\", function ChefeditprofileComponent_Template_input_ngModelChange_56_listener($event) {\n          return ctx.phone = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(57, \"br\");\n        i0.ɵɵtemplate(58, ChefeditprofileComponent_div_58_Template, 2, 0, \"div\", 8);\n        i0.ɵɵelement(59, \"br\")(60, \"br\")(61, \"br\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(62, \"br\");\n        i0.ɵɵelementStart(63, \"button\", 17);\n        i0.ɵɵlistener(\"click\", function ChefeditprofileComponent_Template_button_click_63_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵtext(64, \" Save Profile \");\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(19);\n        i0.ɵɵproperty(\"ngModel\", ctx.firstName);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.fError);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.lastName);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.fError);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.address);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.aError);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.cookExp);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.cError);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.phone);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.pError);\n      }\n    },\n    directives: [i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm, i4.DefaultValueAccessor, i4.RequiredValidator, i4.NgControlStatus, i4.NgModel, i5.NgIf, i4.PatternValidator],\n    styles: [\"body[_ngcontent-%COMP%]{margin:0 300px}.box1[_ngcontent-%COMP%]{width:980px;margin:auto;height:350px}.box1[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;float:left;width:230px;height:350px}button[_ngcontent-%COMP%]{margin:10px 0 0;background-color:#ffc828;height:30px;border-radius:10%;font-size:14px}select[_ngcontent-%COMP%]{border:rgb(260,200,40,.6) solid}form[_ngcontent-%COMP%]{border:3px solid #f1f1f1;height:auto}input[type=text][_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], input[type=tel][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%]{padding:10px}label[_ngcontent-%COMP%]{font-size:large}\"]\n  });\n  return ChefeditprofileComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}